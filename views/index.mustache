<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Gabble</title>
    <link rel="stylesheet" href="/css/master.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.js" charset="utf-8"></script>
  </head>
  <body>
    <nav>
      <a href="/">
        <h3>Gabble</h3>
      </a>
      <a href="/newGab">
        <h3>Create a new gab</h3>
      </a>
      <a href="/login">
        {{#sessionUser}}
        <h3>Logged in as {{sessionUser}}</h3>
        {{/sessionUser}}
        {{^sessionUser}}
        <h3>Please log in</h3>
        {{/sessionUser}}
      </a>
      <a href="/logout">
        <h3>Log out</h3>
      </a>
    </nav>
    <div class="index-content-wrapper">
      {{#gabs}}
      <div class="gab-container">
        <h2>{{userAlias.username}}: </h2>
        <a href="/gabdetails/{{id}}">
          <p>{{text}}</p>
          <p class="publishedAt">{{publishedAt}}</p>
        </a>
        {{#likes}}
        <p>{{likes.length}} likes</p>
        {{/likes}}

        {{#likeButtonBool}}
        <form class="like-button" action="/like/{{id}}" method="post">
          <input type="submit" name="likeButton" value="Like">
        </form>
        {{/likeButtonBool}}
        {{^likeButtonBool}}
        {{/likeButtonBool}}

        {{#deleteButtonBool}}
        <form class="delete-button" action="/delete/{{id}}" method="post">
          <input type="submit" name="deleteButton" value="Delete">
        </form>
        {{/deleteButtonBool}}
        {{^deleteButtonBool}}
        {{/deleteButtonBool}}

      </div>
      {{/gabs}}
    </div>
    <script src="/js/client.js" charset="utf-8"></script>
  </body>
</html>
